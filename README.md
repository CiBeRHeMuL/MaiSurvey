# Сервис опросов МАИ

## Оглавление

1. [Общее описание сервиса](#общее-описание-сервиса)
2. [Quickstart](#quickstart)
    - [С докером](#с-докером)

## Общее описание сервиса

ОНО ТУТ БУДЕТ

## Quickstart

Инструкция о развертывании сервиса

### С докером

**1.** Настраиваем окружение

Для корректной работы сервиса необходимо заполнить все переменные окружения.

```shell
# Копируем .env
cp .env .env.local

# заменяем APP_SECRET в .env.local. Сгенерировать можно с помощью команды:
openssl rand -base64 32
```

Далее в .env.local заполняем все данные о подключении к бд и т.д.

**2.** Добавляем локально хосты в hosts файл

```
127.0.0.1 mai-survey.loc
```

**3.** Так как вся работа теперь связана с PHP контейнером, удобно будет добавить в систему алиас, для удобства работы с докером.

```shell
alias mphp='docker exec -it mai-survey-php-container'
```

**4.** Разворачиваем докер

```shell
make docker-install
```

**5.** Выполняем команды для настройки сервиса

- Устанавливаем composer зависимости

```shell
mphp composer i
```

- Накатываем миграции

```shell
mphp make migrate
```